                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.2.0 #13081 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module vgm_player
                                      6 	.optsdcc -mz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _PSG_Resume
                                     12 	.globl _PSG_Mute
                                     13 	.globl _PSG_SetRegister
                                     14 	.globl _g_VGM_State
                                     15 	.globl _g_VGM_WaitFrame
                                     16 	.globl _g_VGM_WaitCount
                                     17 	.globl _g_VGM_Loop
                                     18 	.globl _g_VGM_Pointer
                                     19 	.globl _g_VGM_Header
                                     20 	.globl _g_SLTSL
                                     21 	.globl _g_GRPACY
                                     22 	.globl _g_GRPACX
                                     23 	.globl _g_LOGOPR
                                     24 	.globl _g_CMASK
                                     25 	.globl _g_CLOC
                                     26 	.globl _g_FNKSTR
                                     27 	.globl _g_ATRBYT
                                     28 	.globl _g_BDRCLR
                                     29 	.globl _g_BAKCLR
                                     30 	.globl _g_FORCLR
                                     31 	.globl _g_CSRX
                                     32 	.globl _g_CSRY
                                     33 	.globl _g_CLIKSW
                                     34 	.globl _g_MLTPAT
                                     35 	.globl _g_MLTATR
                                     36 	.globl _g_MLTCGP
                                     37 	.globl _g_MLTCOL
                                     38 	.globl _g_MLTNAM
                                     39 	.globl _g_GRPPAT
                                     40 	.globl _g_GRPATR
                                     41 	.globl _g_GRPCGP
                                     42 	.globl _g_GRPCOL
                                     43 	.globl _g_GRPNAM
                                     44 	.globl _g_T32PAT
                                     45 	.globl _g_T32ATR
                                     46 	.globl _g_T32CGP
                                     47 	.globl _g_T32COL
                                     48 	.globl _g_T32NAM
                                     49 	.globl _g_TXTPAT
                                     50 	.globl _g_TXTATR
                                     51 	.globl _g_TXTCGP
                                     52 	.globl _g_TXTCOL
                                     53 	.globl _g_TXTNAM
                                     54 	.globl _g_CLMLST
                                     55 	.globl _g_CRTCNT
                                     56 	.globl _g_LINLEN
                                     57 	.globl _g_LINL32
                                     58 	.globl _g_LINL40
                                     59 	.globl _g_BDOS
                                     60 	.globl _g_MASTER
                                     61 	.globl _g_RAMAD3
                                     62 	.globl _g_RAMAD2
                                     63 	.globl _g_RAMAD1
                                     64 	.globl _g_RAMAD0
                                     65 	.globl _g_BREAKV
                                     66 	.globl _g_DISKVE
                                     67 	.globl _g_KANJTABLE
                                     68 	.globl _g_STRSRC
                                     69 	.globl _g_SUBRID
                                     70 	.globl _g_CHAR_16
                                     71 	.globl _g_MSXMID
                                     72 	.globl _g_MSXVER
                                     73 	.globl _g_ROMVersion
                                     74 	.globl _g_BASRVN
                                     75 	.globl _g_VDP_DW
                                     76 	.globl _g_VDP_DR
                                     77 	.globl _g_CGTABL
                                     78 	.globl _g_SVFFFD
                                     79 	.globl _g_RG27SAV
                                     80 	.globl _g_RG26SAV
                                     81 	.globl _g_RG25SAV
                                     82 	.globl _g_SVFFF8
                                     83 	.globl _g_MINROM
                                     84 	.globl _g_RG23SAV
                                     85 	.globl _g_RG22SAV
                                     86 	.globl _g_RG21SAV
                                     87 	.globl _g_RG20SAV
                                     88 	.globl _g_RG19SAV
                                     89 	.globl _g_RG18SAV
                                     90 	.globl _g_RG17SAV
                                     91 	.globl _g_RG16SAV
                                     92 	.globl _g_RG15SAV
                                     93 	.globl _g_RG14SAV
                                     94 	.globl _g_RG13SAV
                                     95 	.globl _g_RG12SAV
                                     96 	.globl _g_RG11SAV
                                     97 	.globl _g_RG10SAV
                                     98 	.globl _g_RG09SAV
                                     99 	.globl _g_RG08SAV
                                    100 	.globl _g_PROCNM
                                    101 	.globl _g_SLTWRK
                                    102 	.globl _g_SLTATR
                                    103 	.globl _g_SLTTBL
                                    104 	.globl _g_EXPTBL
                                    105 	.globl _g_MNROM
                                    106 	.globl _g_DRWANG
                                    107 	.globl _g_DRWSCL
                                    108 	.globl _g_DRWFLG
                                    109 	.globl _g_GYPOS
                                    110 	.globl _g_GXPOS
                                    111 	.globl _g_BRDATR
                                    112 	.globl _g_CASPRV
                                    113 	.globl _g_OLDSCR
                                    114 	.globl _g_SCRMOD
                                    115 	.globl _g_FLBMEM
                                    116 	.globl _g_KANAMD
                                    117 	.globl _g_KANAST
                                    118 	.globl _g_CAPST
                                    119 	.globl _g_CSTYLE
                                    120 	.globl _g_CSRSW
                                    121 	.globl _g_INSFLG
                                    122 	.globl _g_ESCCNT
                                    123 	.globl _g_GRPHED
                                    124 	.globl _g_WINWID
                                    125 	.globl _g_LOWLIM
                                    126 	.globl _g_INTCNT
                                    127 	.globl _g_INTVAL
                                    128 	.globl _g_JIFFY
                                    129 	.globl _g_PADX
                                    130 	.globl _g_PADY
                                    131 	.globl _g_INTFLG
                                    132 	.globl _g_RTYCNT
                                    133 	.globl _g_TRPTBL
                                    134 	.globl _g_HIMEM
                                    135 	.globl _g_BOTTOM
                                    136 	.globl _g_PATWRK
                                    137 	.globl _g_LINWRK
                                    138 	.globl _g_KEYBUF
                                    139 	.globl _g_NEWKEY
                                    140 	.globl _g_OLDKEY
                                    141 	.globl _g_CLIKFL
                                    142 	.globl _g_ONGSBF
                                    143 	.globl _g_FNKFLG
                                    144 	.globl _g_FNKSWI
                                    145 	.globl _g_CODSAV
                                    146 	.globl _g_FSTPOS
                                    147 	.globl _g_LINTTB
                                    148 	.globl _g_BASROM
                                    149 	.globl _g_ENSTOP
                                    150 	.globl _g_VCBC
                                    151 	.globl _g_VCBB
                                    152 	.globl _g_VCBA
                                    153 	.globl _g_PLYCNT
                                    154 	.globl _g_MUSICF
                                    155 	.globl _g_QUEUEN
                                    156 	.globl _g_MCLPTR
                                    157 	.globl _g_MCLLEN
                                    158 	.globl _g_SAVVOL
                                    159 	.globl _g_VOICEN
                                    160 	.globl _g_SAVSP
                                    161 	.globl _g_PRSCNT
                                    162 	.globl _g_LSTMOD
                                    163 	.globl _g_LSTCOM
                                    164 	.globl _g_COMMSK
                                    165 	.globl _g_ESTBLS
                                    166 	.globl _g_FLAGS
                                    167 	.globl _g_ERRORS
                                    168 	.globl _g_DATCNT
                                    169 	.globl _g_DEVNUM
                                    170 	.globl _g_OLDINT
                                    171 	.globl _g_OLDSTT
                                    172 	.globl _g_MEXBIh
                                    173 	.globl _g_RSIQLN
                                    174 	.globl _g_RSFCB
                                    175 	.globl _g_TOCNT
                                    176 	.globl _g_RSTMP
                                    177 	.globl _g_YSAVE
                                    178 	.globl _g_XSAVE
                                    179 	.globl _g_NORUSE
                                    180 	.globl _g_MODE
                                    181 	.globl _g_ROMA
                                    182 	.globl _g_CHRCNT
                                    183 	.globl _g_EXBRSA
                                    184 	.globl _g_AVCSAV
                                    185 	.globl _g_ACPAGE
                                    186 	.globl _g_DPPAGE
                                    187 	.globl _g_RS2IQ
                                    188 	.globl _g_VOICCQ
                                    189 	.globl _g_VOICBQ
                                    190 	.globl _g_VOICAQ
                                    191 	.globl _g_QUEBAK
                                    192 	.globl _g_QUETAB
                                    193 	.globl _g_ASPCT2
                                    194 	.globl _g_ASPCT1
                                    195 	.globl _g_HEADER
                                    196 	.globl _g_HIGH
                                    197 	.globl _g_LOW
                                    198 	.globl _g_CS240
                                    199 	.globl _g_CS120
                                    200 	.globl _g_GETPNT
                                    201 	.globl _g_PUTPNT
                                    202 	.globl _g_REPCNT
                                    203 	.globl _g_SCNCNT
                                    204 	.globl _g_FRCNEW
                                    205 	.globl _g_QUEUES
                                    206 	.globl _g_MINUPD
                                    207 	.globl _g_MAXUPD
                                    208 	.globl _g_TRGFLG
                                    209 	.globl _g_STATFL
                                    210 	.globl _g_RG7SAV
                                    211 	.globl _g_RG6SAV
                                    212 	.globl _g_RG5SAV
                                    213 	.globl _g_RG4SAV
                                    214 	.globl _g_RG3SAV
                                    215 	.globl _g_RG2SAV
                                    216 	.globl _g_RG1SAV
                                    217 	.globl _g_RG0SAV
                                    218 	.globl _g_CNSDFG
                                    219 	.globl _g_USRTAB
                                    220 	.globl _g_CLPRIM
                                    221 	.globl _g_WRPRIM
                                    222 	.globl _g_RDPRIM
                                    223 	.globl _VGM_Play
                                    224 	.globl _VGM_Resume
                                    225 	.globl _VGM_Pause
                                    226 	.globl _VGM_Stop
                                    227 	.globl _VGM_Decode
                                    228 ;--------------------------------------------------------
                                    229 ; special function registers
                                    230 ;--------------------------------------------------------
                         000000A8   231 _g_PortPrimarySlot	=	0x00a8
                         000000A9   232 _g_PortReadKeyboard	=	0x00a9
                         000000AA   233 _g_PortAccessKeyboard	=	0x00aa
                         000000AB   234 _g_PortControl	=	0x00ab
                         00000098   235 _g_VDP_DataPort	=	0x0098
                         00000099   236 _g_VDP_RegPort	=	0x0099
                         00000099   237 _g_VDP_AddrPort	=	0x0099
                         00000099   238 _g_VDP_StatPort	=	0x0099
                         000000A0   239 _g_PSG_RegPort	=	0x00a0
                         000000A1   240 _g_PSG_DataPort	=	0x00a1
                         000000A2   241 _g_PSG_StatPort	=	0x00a2
                         00000010   242 _g_PSG_Ext_RegPort	=	0x0010
                         00000011   243 _g_PSG_Ext_DataPort	=	0x0011
                         00000012   244 _g_PSG_Ext_StatPort	=	0x0012
                         0000007C   245 _g_MSXMusic_IndexPort	=	0x007c
                         0000007D   246 _g_MSXMusic_DataPort	=	0x007d
                         000000C0   247 _g_MSXAudio_IndexPort	=	0x00c0
                         000000C1   248 _g_MSXAudio_DataPort	=	0x00c1
                         000000C2   249 _g_MSXAudio_IndexPort2	=	0x00c2
                         000000C3   250 _g_MSXAudio_DataPort2	=	0x00c3
                         000000B4   251 _g_RTC_AddrPort	=	0x00b4
                         000000B5   252 _g_RTC_DataPort	=	0x00b5
                                    253 ;--------------------------------------------------------
                                    254 ; ram data
                                    255 ;--------------------------------------------------------
                                    256 	.area _DATA
                         0000F3AE   257 _g_LINL40	=	0xf3ae
                         0000F3AF   258 _g_LINL32	=	0xf3af
                         0000F3B0   259 _g_LINLEN	=	0xf3b0
                         0000F3B1   260 _g_CRTCNT	=	0xf3b1
                         0000F3B2   261 _g_CLMLST	=	0xf3b2
                         0000F3B3   262 _g_TXTNAM	=	0xf3b3
                         0000F3B5   263 _g_TXTCOL	=	0xf3b5
                         0000F3B7   264 _g_TXTCGP	=	0xf3b7
                         0000F3B9   265 _g_TXTATR	=	0xf3b9
                         0000F3BB   266 _g_TXTPAT	=	0xf3bb
                         0000F3BD   267 _g_T32NAM	=	0xf3bd
                         0000F3BF   268 _g_T32COL	=	0xf3bf
                         0000F3C1   269 _g_T32CGP	=	0xf3c1
                         0000F3C3   270 _g_T32ATR	=	0xf3c3
                         0000F3C5   271 _g_T32PAT	=	0xf3c5
                         0000F3C7   272 _g_GRPNAM	=	0xf3c7
                         0000F3C9   273 _g_GRPCOL	=	0xf3c9
                         0000F3CB   274 _g_GRPCGP	=	0xf3cb
                         0000F3CD   275 _g_GRPATR	=	0xf3cd
                         0000F3CF   276 _g_GRPPAT	=	0xf3cf
                         0000F3D1   277 _g_MLTNAM	=	0xf3d1
                         0000F3D3   278 _g_MLTCOL	=	0xf3d3
                         0000F3D5   279 _g_MLTCGP	=	0xf3d5
                         0000F3D7   280 _g_MLTATR	=	0xf3d7
                         0000F3D9   281 _g_MLTPAT	=	0xf3d9
                         0000F3DB   282 _g_CLIKSW	=	0xf3db
                         0000F3DC   283 _g_CSRY	=	0xf3dc
                         0000F3DD   284 _g_CSRX	=	0xf3dd
                         0000F3E9   285 _g_FORCLR	=	0xf3e9
                         0000F3EA   286 _g_BAKCLR	=	0xf3ea
                         0000F3EB   287 _g_BDRCLR	=	0xf3eb
                         0000F3F2   288 _g_ATRBYT	=	0xf3f2
                         0000F87F   289 _g_FNKSTR	=	0xf87f
                         0000F92A   290 _g_CLOC	=	0xf92a
                         0000F92C   291 _g_CMASK	=	0xf92c
                         0000FB02   292 _g_LOGOPR	=	0xfb02
                         0000FCB7   293 _g_GRPACX	=	0xfcb7
                         0000FCB9   294 _g_GRPACY	=	0xfcb9
                         0000FFFF   295 _g_SLTSL	=	0xffff
    00000000                        296 _g_VGM_Header::
    00000000                        297 	.ds 2
    00000002                        298 _g_VGM_Pointer::
    00000002                        299 	.ds 2
    00000004                        300 _g_VGM_Loop::
    00000004                        301 	.ds 2
    00000006                        302 _g_VGM_WaitCount::
    00000006                        303 	.ds 2
    00000008                        304 _g_VGM_WaitFrame::
    00000008                        305 	.ds 2
    0000000A                        306 _g_VGM_State::
    0000000A                        307 	.ds 1
                                    308 ;--------------------------------------------------------
                                    309 ; ram data
                                    310 ;--------------------------------------------------------
                                    311 	.area _INITIALIZED
                                    312 ;--------------------------------------------------------
                                    313 ; absolute external ram data
                                    314 ;--------------------------------------------------------
                                    315 	.area _DABS (ABS)
                                    316 ;--------------------------------------------------------
                                    317 ; global & static initialisations
                                    318 ;--------------------------------------------------------
                                    319 	.area _HOME
                                    320 	.area _GSINIT
                                    321 	.area _GSFINAL
                                    322 	.area _GSINIT
                                    323 ;--------------------------------------------------------
                                    324 ; Home
                                    325 ;--------------------------------------------------------
                                    326 	.area _HOME
                                    327 	.area _HOME
                                    328 ;--------------------------------------------------------
                                    329 ; code
                                    330 ;--------------------------------------------------------
                                    331 	.area _CODE
                                    332 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:47: bool VGM_Play(const void* addr, bool loop)
                                    333 ;	---------------------------------
                                    334 ; Function VGM_Play
                                    335 ; ---------------------------------
    00000000                        336 _VGM_Play::
    00000000 DD E5            [15]  337 	push	ix
    00000002 DD 21 00 00      [14]  338 	ld	ix,#0
    00000006 DD 39            [15]  339 	add	ix,sp
    00000008 F5               [11]  340 	push	af
    00000009 F5               [11]  341 	push	af
    0000000A F5               [11]  342 	push	af
                                    343 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:49: VGM_Pause(); // Mute all sound chip
    0000000B E5               [11]  344 	push	hl
    0000000C CDr08r01         [17]  345 	call	_VGM_Pause
    0000000F E1               [10]  346 	pop	hl
                                    347 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:51: g_VGM_Header = (VGM_Header*)addr;
    00000010 22r00r00         [16]  348 	ld	(_g_VGM_Header), hl
                                    349 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:53: if (g_VGM_Header->Ident != VGM_IDENT)
    00000013 2Ar00r00         [16]  350 	ld	hl, (_g_VGM_Header)
    00000016 E3               [19]  351 	ex	(sp), hl
    00000017 D1               [10]  352 	pop	de
    00000018 D5               [11]  353 	push	de
    00000019 21 02 00         [10]  354 	ld	hl, #2
    0000001C 39               [11]  355 	add	hl, sp
    0000001D EB               [ 4]  356 	ex	de, hl
    0000001E 01 04 00         [10]  357 	ld	bc, #0x0004
    00000021 ED B0            [21]  358 	ldir
    00000023 2ArBFr00         [16]  359 	ld	hl, (#___str_0 + 0)
    00000026 ED 4BrC1r00      [20]  360 	ld	bc, (#___str_0 + 2)
    0000002A DD 5E FC         [19]  361 	ld	e, -4 (ix)
    0000002D DD 56 FD         [19]  362 	ld	d, -3 (ix)
    00000030 BF               [ 4]  363 	cp	a, a
    00000031 ED 52            [15]  364 	sbc	hl, de
    00000033 20 0B            [12]  365 	jr	NZ, 00138$
    00000035 DD 6E FE         [19]  366 	ld	l, -2 (ix)
    00000038 DD 66 FF         [19]  367 	ld	h, -1 (ix)
    0000003B BF               [ 4]  368 	cp	a, a
    0000003C ED 42            [15]  369 	sbc	hl, bc
    0000003E 28 04            [12]  370 	jr	Z, 00102$
    00000040                        371 00138$:
                                    372 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:54: return FALSE;
    00000040 AF               [ 4]  373 	xor	a, a
    00000041 C3rB8r00         [10]  374 	jp	00116$
    00000044                        375 00102$:
                                    376 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:56: g_VGM_State = VGM_STATE_PLAY;
    00000044 FD 21r0Ar00      [14]  377 	ld	iy, #_g_VGM_State
    00000048 FD 36 00 80      [19]  378 	ld	0 (iy), #0x80
                                    379 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:57: if (loop)
    0000004C DD 7E 04         [19]  380 	ld	a, 4 (ix)
    0000004F B7               [ 4]  381 	or	a, a
    00000050 28 04            [12]  382 	jr	Z, 00104$
                                    383 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:58: g_VGM_State |= VGM_STATE_LOOP;
    00000052 FD 36 00 82      [19]  384 	ld	0 (iy), #0x82
    00000056                        385 00104$:
                                    386 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:60: g_VGM_Pointer = (u8*)((u16)&g_VGM_Header->Data_offset + (u16)g_VGM_Header->Data_offset);
    00000056 E1               [10]  387 	pop	hl
    00000057 E5               [11]  388 	push	hl
    00000058 11 34 00         [10]  389 	ld	de, #0x0034
    0000005B 19               [11]  390 	add	hl, de
    0000005C 4D               [ 4]  391 	ld	c, l
    0000005D 44               [ 4]  392 	ld	b, h
    0000005E 7E               [ 7]  393 	ld	a, (hl)
    0000005F 23               [ 6]  394 	inc	hl
    00000060 66               [ 7]  395 	ld	h, (hl)
                                    396 ;	spillPairReg hl
    00000061 6F               [ 4]  397 	ld	l, a
    00000062 09               [11]  398 	add	hl, bc
    00000063 22r02r00         [16]  399 	ld	(_g_VGM_Pointer), hl
                                    400 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:61: if (g_VGM_Header->Loop_offset)
    00000066 E1               [10]  401 	pop	hl
    00000067 E5               [11]  402 	push	hl
    00000068 11 1C 00         [10]  403 	ld	de, #0x001c
    0000006B 19               [11]  404 	add	hl, de
    0000006C E5               [11]  405 	push	hl
    0000006D 4E               [ 7]  406 	ld	c, (hl)
    0000006E 23               [ 6]  407 	inc	hl
    0000006F 46               [ 7]  408 	ld	b, (hl)
    00000070 23               [ 6]  409 	inc	hl
    00000071 5E               [ 7]  410 	ld	e, (hl)
    00000072 23               [ 6]  411 	inc	hl
    00000073 56               [ 7]  412 	ld	d, (hl)
    00000074 E1               [10]  413 	pop	hl
    00000075 7A               [ 4]  414 	ld	a, d
    00000076 B3               [ 4]  415 	or	a, e
    00000077 B0               [ 4]  416 	or	a, b
    00000078 B1               [ 4]  417 	or	a, c
    00000079 28 07            [12]  418 	jr	Z, 00106$
                                    419 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:62: g_VGM_Loop = (u8*)((u16)&g_VGM_Header->Loop_offset + (u16)g_VGM_Header->Loop_offset);
    0000007B 09               [11]  420 	add	hl, bc
    0000007C 22r04r00         [16]  421 	ld	(_g_VGM_Loop), hl
    0000007F C3r88r00         [10]  422 	jp	00107$
    00000082                        423 00106$:
                                    424 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:64: g_VGM_Loop = 0;
    00000082 21 00 00         [10]  425 	ld	hl, #0x0000
    00000085 22r04r00         [16]  426 	ld	(_g_VGM_Loop), hl
    00000088                        427 00107$:
                                    428 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:65: g_VGM_WaitCount = 0;
    00000088 21 00 00         [10]  429 	ld	hl, #0x0000
    0000008B 22r06r00         [16]  430 	ld	(_g_VGM_WaitCount), hl
                                    431 ;E:/Dropbox/FAUSTO/SVILUPPI/MSX/CODE/C/MSXgl/engine/src/system.h:190: inline u8 Sys_GetBIOSInfo() { return g_BASRVN[0]; }
    0000008E 3A 2B 00         [13]  432 	ld	a, (#_g_BASRVN + 0)
                                    433 ;E:/Dropbox/FAUSTO/SVILUPPI/MSX/CODE/C/MSXgl/engine/src/system.h:205: inline u8 Sys_GetFrequency() { return Sys_GetBIOSInfo() & 0x80; }
    00000091 E6 80            [ 7]  434 	and	a, #0x80
                                    435 ;E:/Dropbox/FAUSTO/SVILUPPI/MSX/CODE/C/MSXgl/engine/src/system.h:219: inline bool Sys_Is50Hz() { return Sys_GetFrequency() == SYS_FREQ_50HZ; }
    00000093 D6 80            [ 7]  436 	sub	a, #0x80
    00000095 20 11            [12]  437 	jr	NZ, 00109$
                                    438 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:67: if (Sys_Is50Hz())
                                    439 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.h:116: inline void VGM_SetFrequency50Hz() { g_VGM_State |= VGM_STATE_50HZ; g_VGM_WaitFrame = VGM_WAIT_50HZ; }
    00000097 3Ar0Ar00         [13]  440 	ld	a, (_g_VGM_State+0)
    0000009A F6 01            [ 7]  441 	or	a, #0x01
    0000009C 32r0Ar00         [13]  442 	ld	(_g_VGM_State+0), a
    0000009F 21 72 03         [10]  443 	ld	hl, #0x0372
    000000A2 22r08r00         [16]  444 	ld	(_g_VGM_WaitFrame), hl
                                    445 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:68: VGM_SetFrequency50Hz();
    000000A5 C3rB6r00         [10]  446 	jp	00110$
    000000A8                        447 00109$:
                                    448 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.h:120: inline void VGM_SetFrequency60Hz() { g_VGM_State &= ~VGM_STATE_50HZ; g_VGM_WaitFrame = VGM_WAIT_60HZ; }
    000000A8 3Ar0Ar00         [13]  449 	ld	a, (_g_VGM_State+0)
    000000AB E6 FE            [ 7]  450 	and	a, #0xfe
    000000AD 32r0Ar00         [13]  451 	ld	(_g_VGM_State+0), a
    000000B0 21 DF 02         [10]  452 	ld	hl, #0x02df
    000000B3 22r08r00         [16]  453 	ld	(_g_VGM_WaitFrame), hl
                                    454 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:70: VGM_SetFrequency60Hz();
    000000B6                        455 00110$:
                                    456 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:72: return TRUE;
    000000B6 3E 01            [ 7]  457 	ld	a, #0x01
    000000B8                        458 00116$:
                                    459 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:73: }
    000000B8 DD F9            [10]  460 	ld	sp, ix
    000000BA DD E1            [14]  461 	pop	ix
    000000BC E1               [10]  462 	pop	hl
    000000BD 33               [ 6]  463 	inc	sp
    000000BE E9               [ 4]  464 	jp	(hl)
                         0000F380   465 _g_RDPRIM	=	0xf380
                         0000F385   466 _g_WRPRIM	=	0xf385
                         0000F38C   467 _g_CLPRIM	=	0xf38c
                         0000F39A   468 _g_USRTAB	=	0xf39a
                         0000F3DE   469 _g_CNSDFG	=	0xf3de
                         0000F3DF   470 _g_RG0SAV	=	0xf3df
                         0000F3E0   471 _g_RG1SAV	=	0xf3e0
                         0000F3E1   472 _g_RG2SAV	=	0xf3e1
                         0000F3E2   473 _g_RG3SAV	=	0xf3e2
                         0000F3E3   474 _g_RG4SAV	=	0xf3e3
                         0000F3E4   475 _g_RG5SAV	=	0xf3e4
                         0000F3E5   476 _g_RG6SAV	=	0xf3e5
                         0000F3E6   477 _g_RG7SAV	=	0xf3e6
                         0000F3E7   478 _g_STATFL	=	0xf3e7
                         0000F3E8   479 _g_TRGFLG	=	0xf3e8
                         0000F3EC   480 _g_MAXUPD	=	0xf3ec
                         0000F3EF   481 _g_MINUPD	=	0xf3ef
                         0000F3F3   482 _g_QUEUES	=	0xf3f3
                         0000F3F5   483 _g_FRCNEW	=	0xf3f5
                         0000F3F6   484 _g_SCNCNT	=	0xf3f6
                         0000F3F7   485 _g_REPCNT	=	0xf3f7
                         0000F3F8   486 _g_PUTPNT	=	0xf3f8
                         0000F3FA   487 _g_GETPNT	=	0xf3fa
                         0000F3FC   488 _g_CS120	=	0xf3fc
                         0000F401   489 _g_CS240	=	0xf401
                         0000F406   490 _g_LOW	=	0xf406
                         0000F408   491 _g_HIGH	=	0xf408
                         0000F40A   492 _g_HEADER	=	0xf40a
                         0000F40B   493 _g_ASPCT1	=	0xf40b
                         0000F40D   494 _g_ASPCT2	=	0xf40d
                         0000F959   495 _g_QUETAB	=	0xf959
                         0000F971   496 _g_QUEBAK	=	0xf971
                         0000F975   497 _g_VOICAQ	=	0xf975
                         0000F9F5   498 _g_VOICBQ	=	0xf9f5
                         0000FA75   499 _g_VOICCQ	=	0xfa75
                         0000FAF5   500 _g_RS2IQ	=	0xfaf5
                         0000FAF5   501 _g_DPPAGE	=	0xfaf5
                         0000FAF6   502 _g_ACPAGE	=	0xfaf6
                         0000FAF7   503 _g_AVCSAV	=	0xfaf7
                         0000FAF8   504 _g_EXBRSA	=	0xfaf8
                         0000FAF9   505 _g_CHRCNT	=	0xfaf9
                         0000FAFA   506 _g_ROMA	=	0xfafa
                         0000FAFC   507 _g_MODE	=	0xfafc
                         0000FAFD   508 _g_NORUSE	=	0xfafd
                         0000FAFE   509 _g_XSAVE	=	0xfafe
                         0000FB00   510 _g_YSAVE	=	0xfb00
                         0000FB03   511 _g_RSTMP	=	0xfb03
                         0000FB03   512 _g_TOCNT	=	0xfb03
                         0000FB04   513 _g_RSFCB	=	0xfb04
                         0000FB06   514 _g_RSIQLN	=	0xfb06
                         0000FB07   515 _g_MEXBIh	=	0xfb07
                         0000FB0C   516 _g_OLDSTT	=	0xfb0c
                         0000FB0C   517 _g_OLDINT	=	0xfb0c
                         0000FB16   518 _g_DEVNUM	=	0xfb16
                         0000FB17   519 _g_DATCNT	=	0xfb17
                         0000FB1A   520 _g_ERRORS	=	0xfb1a
                         0000FB1B   521 _g_FLAGS	=	0xfb1b
                         0000FB1C   522 _g_ESTBLS	=	0xfb1c
                         0000FB1D   523 _g_COMMSK	=	0xfb1d
                         0000FB1E   524 _g_LSTCOM	=	0xfb1e
                         0000FB1F   525 _g_LSTMOD	=	0xfb1f
                         0000FB35   526 _g_PRSCNT	=	0xfb35
                         0000FB36   527 _g_SAVSP	=	0xfb36
                         0000FB38   528 _g_VOICEN	=	0xfb38
                         0000FB39   529 _g_SAVVOL	=	0xfb39
                         0000FB3B   530 _g_MCLLEN	=	0xfb3b
                         0000FB3C   531 _g_MCLPTR	=	0xfb3c
                         0000FB3E   532 _g_QUEUEN	=	0xfb3e
                         0000FB3F   533 _g_MUSICF	=	0xfb3f
                         0000FB40   534 _g_PLYCNT	=	0xfb40
                         0000FB41   535 _g_VCBA	=	0xfb41
                         0000FB66   536 _g_VCBB	=	0xfb66
                         0000FB8B   537 _g_VCBC	=	0xfb8b
                         0000FBB0   538 _g_ENSTOP	=	0xfbb0
                         0000FBB1   539 _g_BASROM	=	0xfbb1
                         0000FBB2   540 _g_LINTTB	=	0xfbb2
                         0000FBCA   541 _g_FSTPOS	=	0xfbca
                         0000FBCC   542 _g_CODSAV	=	0xfbcc
                         0000FBCD   543 _g_FNKSWI	=	0xfbcd
                         0000FBCE   544 _g_FNKFLG	=	0xfbce
                         0000FBD8   545 _g_ONGSBF	=	0xfbd8
                         0000FBD9   546 _g_CLIKFL	=	0xfbd9
                         0000FBDA   547 _g_OLDKEY	=	0xfbda
                         0000FBE5   548 _g_NEWKEY	=	0xfbe5
                         0000FBF0   549 _g_KEYBUF	=	0xfbf0
                         0000FC18   550 _g_LINWRK	=	0xfc18
                         0000FC40   551 _g_PATWRK	=	0xfc40
                         0000FC48   552 _g_BOTTOM	=	0xfc48
                         0000FC4A   553 _g_HIMEM	=	0xfc4a
                         0000FC4C   554 _g_TRPTBL	=	0xfc4c
                         0000FC9A   555 _g_RTYCNT	=	0xfc9a
                         0000FC9B   556 _g_INTFLG	=	0xfc9b
                         0000FC9C   557 _g_PADY	=	0xfc9c
                         0000FC9D   558 _g_PADX	=	0xfc9d
                         0000FC9E   559 _g_JIFFY	=	0xfc9e
                         0000FCA0   560 _g_INTVAL	=	0xfca0
                         0000FCA2   561 _g_INTCNT	=	0xfca2
                         0000FCA4   562 _g_LOWLIM	=	0xfca4
                         0000FCA5   563 _g_WINWID	=	0xfca5
                         0000FCA6   564 _g_GRPHED	=	0xfca6
                         0000FCA7   565 _g_ESCCNT	=	0xfca7
                         0000FCA8   566 _g_INSFLG	=	0xfca8
                         0000FCA9   567 _g_CSRSW	=	0xfca9
                         0000FCAA   568 _g_CSTYLE	=	0xfcaa
                         0000FCAB   569 _g_CAPST	=	0xfcab
                         0000FCAC   570 _g_KANAST	=	0xfcac
                         0000FCAD   571 _g_KANAMD	=	0xfcad
                         0000FCAE   572 _g_FLBMEM	=	0xfcae
                         0000FCAF   573 _g_SCRMOD	=	0xfcaf
                         0000FCB0   574 _g_OLDSCR	=	0xfcb0
                         0000FCB1   575 _g_CASPRV	=	0xfcb1
                         0000FCB2   576 _g_BRDATR	=	0xfcb2
                         0000FCB3   577 _g_GXPOS	=	0xfcb3
                         0000FCB5   578 _g_GYPOS	=	0xfcb5
                         0000FCBB   579 _g_DRWFLG	=	0xfcbb
                         0000FCBC   580 _g_DRWSCL	=	0xfcbc
                         0000FCBD   581 _g_DRWANG	=	0xfcbd
                         0000FCC1   582 _g_MNROM	=	0xfcc1
                         0000FCC1   583 _g_EXPTBL	=	0xfcc1
                         0000FCC5   584 _g_SLTTBL	=	0xfcc5
                         0000FCC9   585 _g_SLTATR	=	0xfcc9
                         0000FD09   586 _g_SLTWRK	=	0xfd09
                         0000FD89   587 _g_PROCNM	=	0xfd89
                         0000FFE7   588 _g_RG08SAV	=	0xffe7
                         0000FFE8   589 _g_RG09SAV	=	0xffe8
                         0000FFE9   590 _g_RG10SAV	=	0xffe9
                         0000FFEA   591 _g_RG11SAV	=	0xffea
                         0000FFEB   592 _g_RG12SAV	=	0xffeb
                         0000FFEC   593 _g_RG13SAV	=	0xffec
                         0000FFED   594 _g_RG14SAV	=	0xffed
                         0000FFEE   595 _g_RG15SAV	=	0xffee
                         0000FFEF   596 _g_RG16SAV	=	0xffef
                         0000FFF0   597 _g_RG17SAV	=	0xfff0
                         0000FFF1   598 _g_RG18SAV	=	0xfff1
                         0000FFF2   599 _g_RG19SAV	=	0xfff2
                         0000FFF3   600 _g_RG20SAV	=	0xfff3
                         0000FFF4   601 _g_RG21SAV	=	0xfff4
                         0000FFF5   602 _g_RG22SAV	=	0xfff5
                         0000FFF6   603 _g_RG23SAV	=	0xfff6
                         0000FFF7   604 _g_MINROM	=	0xfff7
                         0000FFF8   605 _g_SVFFF8	=	0xfff8
                         0000FFFA   606 _g_RG25SAV	=	0xfffa
                         0000FFFB   607 _g_RG26SAV	=	0xfffb
                         0000FFFC   608 _g_RG27SAV	=	0xfffc
                         0000FFFD   609 _g_SVFFFD	=	0xfffd
                         00000004   610 _g_CGTABL	=	0x0004
                         00000006   611 _g_VDP_DR	=	0x0006
                         00000007   612 _g_VDP_DW	=	0x0007
                         0000002B   613 _g_BASRVN	=	0x002b
                         0000002B   614 _g_ROMVersion	=	0x002b
                         0000002D   615 _g_MSXVER	=	0x002d
                         0000002E   616 _g_MSXMID	=	0x002e
                         00000034   617 _g_CHAR_16	=	0x0034
                         00000000   618 _g_SUBRID	=	0x0000
                         00000002   619 _g_STRSRC	=	0x0002
                         0000F30F   620 _g_KANJTABLE	=	0xf30f
                         0000F323   621 _g_DISKVE	=	0xf323
                         0000F325   622 _g_BREAKV	=	0xf325
                         0000F341   623 _g_RAMAD0	=	0xf341
                         0000F342   624 _g_RAMAD1	=	0xf342
                         0000F343   625 _g_RAMAD2	=	0xf343
                         0000F344   626 _g_RAMAD3	=	0xf344
                         0000F348   627 _g_MASTER	=	0xf348
                         0000F37D   628 _g_BDOS	=	0xf37d
    000000BF                        629 ___str_0:
    000000BF 56 67 6D 20            630 	.ascii "Vgm "
    000000C3 00                     631 	.db 0x00
                                    632 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:77: void VGM_Resume()
                                    633 ;	---------------------------------
                                    634 ; Function VGM_Resume
                                    635 ; ---------------------------------
    000000C4                        636 _VGM_Resume::
                                    637 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:79: g_VGM_State |= VGM_STATE_PLAY;
    000000C4 3Ar0Ar00         [13]  638 	ld	a, (_g_VGM_State+0)
    000000C7 F6 80            [ 7]  639 	or	a, #0x80
    000000C9 32r0Ar00         [13]  640 	ld	(_g_VGM_State+0), a
                                    641 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.h:146: inline bool VGM_ContainsPSG() { return (g_VGM_Header->Version >= 0x0151) && g_VGM_Header->AY8910_clock; }
    000000CC ED 4Br00r00      [20]  642 	ld	bc, (_g_VGM_Header)
    000000D0 59               [ 4]  643 	ld	e, c
    000000D1 50               [ 4]  644 	ld	d, b
    000000D2 21 08 00         [10]  645 	ld	hl, #8
    000000D5 19               [11]  646 	add	hl, de
    000000D6 5E               [ 7]  647 	ld	e, (hl)
    000000D7 23               [ 6]  648 	inc	hl
    000000D8 56               [ 7]  649 	ld	d, (hl)
    000000D9 23               [ 6]  650 	inc	hl
    000000DA 23               [ 6]  651 	inc	hl
    000000DB 7E               [ 7]  652 	ld	a, (hl)
    000000DC 2B               [ 6]  653 	dec	hl
    000000DD 6E               [ 7]  654 	ld	l, (hl)
                                    655 ;	spillPairReg hl
    000000DE 67               [ 4]  656 	ld	h, a
                                    657 ;	spillPairReg hl
                                    658 ;	spillPairReg hl
    000000DF 7B               [ 4]  659 	ld	a, e
    000000E0 D6 51            [ 7]  660 	sub	a, #0x51
    000000E2 7A               [ 4]  661 	ld	a, d
    000000E3 DE 01            [ 7]  662 	sbc	a, #0x01
    000000E5 11 00 00         [10]  663 	ld	de, #0x0000
    000000E8 ED 52            [15]  664 	sbc	hl, de
    000000EA 38 11            [12]  665 	jr	C, 00106$
    000000EC 21 74 00         [10]  666 	ld	hl, #116
    000000EF 09               [11]  667 	add	hl, bc
    000000F0 4E               [ 7]  668 	ld	c, (hl)
    000000F1 23               [ 6]  669 	inc	hl
    000000F2 46               [ 7]  670 	ld	b, (hl)
    000000F3 23               [ 6]  671 	inc	hl
    000000F4 5E               [ 7]  672 	ld	e, (hl)
    000000F5 23               [ 6]  673 	inc	hl
    000000F6 56               [ 7]  674 	ld	d, (hl)
    000000F7 7A               [ 4]  675 	ld	a, d
    000000F8 B3               [ 4]  676 	or	a, e
    000000F9 B0               [ 4]  677 	or	a, b
    000000FA B1               [ 4]  678 	or	a, c
    000000FB 20 04            [12]  679 	jr	NZ, 00107$
    000000FD                        680 00106$:
    000000FD AF               [ 4]  681 	xor	a, a
    000000FE C3r03r01         [10]  682 	jp	00108$
    00000101                        683 00107$:
    00000101 3E 01            [ 7]  684 	ld	a, #0x01
    00000103                        685 00108$:
                                    686 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:82: if (VGM_ContainsPSG())
    00000103 B7               [ 4]  687 	or	a, a
                                    688 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:83: PSG_Resume();
    00000104 C2r00r00         [10]  689 	jp	NZ,_PSG_Resume
                                    690 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:100: }
    00000107 C9               [10]  691 	ret
                                    692 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:104: void VGM_Pause()
                                    693 ;	---------------------------------
                                    694 ; Function VGM_Pause
                                    695 ; ---------------------------------
    00000108                        696 _VGM_Pause::
                                    697 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:106: g_VGM_State &= ~VGM_STATE_PLAY;
    00000108 3Ar0Ar00         [13]  698 	ld	a, (_g_VGM_State+0)
    0000010B E6 7F            [ 7]  699 	and	a, #0x7f
    0000010D 32r0Ar00         [13]  700 	ld	(_g_VGM_State+0), a
                                    701 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:108: PSG_Mute();
                                    702 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:121: }
    00000110 C3r00r00         [10]  703 	jp	_PSG_Mute
                                    704 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:125: void VGM_Stop()
                                    705 ;	---------------------------------
                                    706 ; Function VGM_Stop
                                    707 ; ---------------------------------
    00000113                        708 _VGM_Stop::
                                    709 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:127: VGM_Pause();
    00000113 CDr08r01         [17]  710 	call	_VGM_Pause
                                    711 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:128: g_VGM_Pointer = (u8*)((u16)&g_VGM_Header->Data_offset + (u16)g_VGM_Header->Data_offset);
    00000116 2Ar00r00         [16]  712 	ld	hl, (_g_VGM_Header)
    00000119 01 34 00         [10]  713 	ld	bc, #0x0034
    0000011C 09               [11]  714 	add	hl, bc
    0000011D 4D               [ 4]  715 	ld	c, l
    0000011E 44               [ 4]  716 	ld	b, h
    0000011F 7E               [ 7]  717 	ld	a, (hl)
    00000120 23               [ 6]  718 	inc	hl
    00000121 66               [ 7]  719 	ld	h, (hl)
                                    720 ;	spillPairReg hl
    00000122 6F               [ 4]  721 	ld	l, a
    00000123 09               [11]  722 	add	hl, bc
    00000124 22r02r00         [16]  723 	ld	(_g_VGM_Pointer), hl
                                    724 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:129: g_VGM_WaitCount = 0;
    00000127 21 00 00         [10]  725 	ld	hl, #0x0000
    0000012A 22r06r00         [16]  726 	ld	(_g_VGM_WaitCount), hl
                                    727 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:130: }
    0000012D C9               [10]  728 	ret
                                    729 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:134: void VGM_Decode()
                                    730 ;	---------------------------------
                                    731 ; Function VGM_Decode
                                    732 ; ---------------------------------
    0000012E                        733 _VGM_Decode::
                                    734 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:136: if (!(g_VGM_State & VGM_STATE_PLAY))
    0000012E 3Ar0Ar00         [13]  735 	ld	a, (_g_VGM_State+0)
    00000131 07               [ 4]  736 	rlca
    00000132 D0               [11]  737 	ret	NC
                                    738 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:137: return;
    00000133 C3r36r01         [10]  739 	jp	00124$
                                    740 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:139: while (g_VGM_WaitCount < g_VGM_WaitFrame)
    00000136                        741 00124$:
    00000136 21r08r00         [10]  742 	ld	hl, #_g_VGM_WaitFrame
    00000139 3Ar06r00         [13]  743 	ld	a, (_g_VGM_WaitCount+0)
    0000013C 96               [ 7]  744 	sub	a, (hl)
    0000013D 23               [ 6]  745 	inc	hl
    0000013E 3Ar07r00         [13]  746 	ld	a, (_g_VGM_WaitCount+1)
    00000141 9E               [ 7]  747 	sbc	a, (hl)
    00000142 D2rF2r01         [10]  748 	jp	NC, 00126$
                                    749 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:141: if (*g_VGM_Pointer == 0xA0) // AY8910, write value dd to register aa
    00000145 2Ar02r00         [16]  750 	ld	hl, (_g_VGM_Pointer)
    00000148 7E               [ 7]  751 	ld	a, (hl)
    00000149 FE A0            [ 7]  752 	cp	a, #0xa0
    0000014B 20 1A            [12]  753 	jr	NZ, 00122$
                                    754 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:143: PSG_SetRegister(g_VGM_Pointer[1], g_VGM_Pointer[2]);
    0000014D 2Ar02r00         [16]  755 	ld	hl, (_g_VGM_Pointer)
    00000150 23               [ 6]  756 	inc	hl
    00000151 23               [ 6]  757 	inc	hl
    00000152 5E               [ 7]  758 	ld	e, (hl)
    00000153 2Ar02r00         [16]  759 	ld	hl, (_g_VGM_Pointer)
    00000156 23               [ 6]  760 	inc	hl
                                    761 ;	spillPairReg hl
                                    762 ;	spillPairReg hl
    00000157 7E               [ 7]  763 	ld	a, (hl)
    00000158 6B               [ 4]  764 	ld	l, e
    00000159 CDr00r00         [17]  765 	call	_PSG_SetRegister
                                    766 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:144: g_VGM_Pointer += 2;
    0000015C 2Ar02r00         [16]  767 	ld	hl, (_g_VGM_Pointer)
    0000015F 23               [ 6]  768 	inc	hl
    00000160 23               [ 6]  769 	inc	hl
    00000161 22r02r00         [16]  770 	ld	(_g_VGM_Pointer), hl
    00000164 C3rE8r01         [10]  771 	jp	00123$
    00000167                        772 00122$:
                                    773 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:184: else if (*g_VGM_Pointer == 0x61) // Wait n samples, n can range from 0 to 65535 (approx 1.49 seconds). Longer pauses than this are represented by multiple wait commands.
    00000167 FE 61            [ 7]  774 	cp	a, #0x61
    00000169 20 1C            [12]  775 	jr	NZ, 00119$
                                    776 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:186: g_VGM_WaitCount += *(u16*)(g_VGM_Pointer+1);
    0000016B 2Ar02r00         [16]  777 	ld	hl, (_g_VGM_Pointer)
    0000016E 23               [ 6]  778 	inc	hl
    0000016F 4E               [ 7]  779 	ld	c, (hl)
    00000170 23               [ 6]  780 	inc	hl
    00000171 46               [ 7]  781 	ld	b, (hl)
    00000172 21r06r00         [10]  782 	ld	hl, #_g_VGM_WaitCount
    00000175 7E               [ 7]  783 	ld	a, (hl)
    00000176 81               [ 4]  784 	add	a, c
    00000177 77               [ 7]  785 	ld	(hl), a
    00000178 23               [ 6]  786 	inc	hl
    00000179 7E               [ 7]  787 	ld	a, (hl)
    0000017A 88               [ 4]  788 	adc	a, b
    0000017B 77               [ 7]  789 	ld	(hl), a
                                    790 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:187: g_VGM_Pointer += 2;
    0000017C 2Ar02r00         [16]  791 	ld	hl, (_g_VGM_Pointer)
    0000017F 23               [ 6]  792 	inc	hl
    00000180 23               [ 6]  793 	inc	hl
    00000181 22r02r00         [16]  794 	ld	(_g_VGM_Pointer), hl
    00000184 C3rE8r01         [10]  795 	jp	00123$
    00000187                        796 00119$:
                                    797 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:189: else if (*g_VGM_Pointer == 0x62) // Wait 735 samples (60th of a second), a shortcut for 0x61 0xdf 0x02
    00000187 FE 62            [ 7]  798 	cp	a, #0x62
    00000189 20 0D            [12]  799 	jr	NZ, 00116$
                                    800 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:191: g_VGM_WaitCount += 735;
    0000018B 2Ar06r00         [16]  801 	ld	hl, (_g_VGM_WaitCount)
    0000018E 01 DF 02         [10]  802 	ld	bc, #0x02df
    00000191 09               [11]  803 	add	hl, bc
    00000192 22r06r00         [16]  804 	ld	(_g_VGM_WaitCount), hl
    00000195 C3rE8r01         [10]  805 	jp	00123$
    00000198                        806 00116$:
                                    807 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:193: else if (*g_VGM_Pointer == 0x63) // Wait 882 samples (50th of a second), a shortcut for 0x61 0x72 0x03
    00000198 FE 63            [ 7]  808 	cp	a, #0x63
    0000019A 20 0D            [12]  809 	jr	NZ, 00113$
                                    810 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:195: g_VGM_WaitCount += 882;
    0000019C 2Ar06r00         [16]  811 	ld	hl, (_g_VGM_WaitCount)
    0000019F 01 72 03         [10]  812 	ld	bc, #0x0372
    000001A2 09               [11]  813 	add	hl, bc
    000001A3 22r06r00         [16]  814 	ld	(_g_VGM_WaitCount), hl
    000001A6 C3rE8r01         [10]  815 	jp	00123$
    000001A9                        816 00113$:
                                    817 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:197: else if (*g_VGM_Pointer == 0x66) // End of sound data
    000001A9 FE 66            [ 7]  818 	cp	a, #0x66
    000001AB 20 1E            [12]  819 	jr	NZ, 00110$
                                    820 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:199: if ((g_VGM_Loop != 0) && (g_VGM_State & VGM_STATE_LOOP))
    000001AD 3Ar05r00         [13]  821 	ld	a, (_g_VGM_Loop+1)
    000001B0 FD 21r04r00      [14]  822 	ld	iy, #_g_VGM_Loop
    000001B4 FD B6 00         [19]  823 	or	a, 0 (iy)
    000001B7 CAr13r01         [10]  824 	jp	Z,_VGM_Stop
    000001BA 3Ar0Ar00         [13]  825 	ld	a, (_g_VGM_State+0)
    000001BD CB 4F            [ 8]  826 	bit	1, a
    000001BF CAr13r01         [10]  827 	jp	Z,_VGM_Stop
                                    828 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:201: g_VGM_Pointer = g_VGM_Loop;
    000001C2 2Ar04r00         [16]  829 	ld	hl, (_g_VGM_Loop)
                                    830 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:205: VGM_Stop();
                                    831 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:206: return;
    000001C5 22r02r00         [16]  832 	ld	(_g_VGM_Pointer), hl
    000001C8 C3rE8r01         [10]  833 	jp	00123$
    000001CB                        834 00110$:
                                    835 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:209: else if ((*g_VGM_Pointer & 0xF0) == 0x70) // wait n+1 samples, n can range from 0 to 15.
    000001CB 4F               [ 4]  836 	ld	c, a
    000001CC 06 00            [ 7]  837 	ld	b, #0x00
    000001CE 79               [ 4]  838 	ld	a, c
    000001CF E6 F0            [ 7]  839 	and	a, #0xf0
    000001D1 5F               [ 4]  840 	ld	e, a
    000001D2 16 00            [ 7]  841 	ld	d, #0x00
    000001D4 7B               [ 4]  842 	ld	a, e
    000001D5 D6 70            [ 7]  843 	sub	a, #0x70
    000001D7 B2               [ 4]  844 	or	a, d
    000001D8 20 0E            [12]  845 	jr	NZ, 00123$
                                    846 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:211: g_VGM_WaitCount += 1 + *g_VGM_Pointer & 0x0F;
    000001DA 03               [ 6]  847 	inc	bc
    000001DB 79               [ 4]  848 	ld	a, c
    000001DC E6 0F            [ 7]  849 	and	a, #0x0f
    000001DE 06 00            [ 7]  850 	ld	b, #0x00
    000001E0 2Ar06r00         [16]  851 	ld	hl, (_g_VGM_WaitCount)
    000001E3 4F               [ 4]  852 	ld	c, a
    000001E4 09               [11]  853 	add	hl, bc
    000001E5 22r06r00         [16]  854 	ld	(_g_VGM_WaitCount), hl
    000001E8                        855 00123$:
                                    856 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:216: g_VGM_Pointer++;
    000001E8 2Ar02r00         [16]  857 	ld	hl, (_g_VGM_Pointer)
    000001EB 23               [ 6]  858 	inc	hl
    000001EC 22r02r00         [16]  859 	ld	(_g_VGM_Pointer), hl
    000001EF C3r36r01         [10]  860 	jp	00124$
    000001F2                        861 00126$:
                                    862 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:218: g_VGM_WaitCount -= g_VGM_WaitFrame;
    000001F2 21r08r00         [10]  863 	ld	hl, #_g_VGM_WaitFrame
    000001F5 D5               [11]  864 	push	de
    000001F6 11r06r00         [10]  865 	ld	de, #_g_VGM_WaitCount
    000001F9 1A               [ 7]  866 	ld	a, (de)
    000001FA 96               [ 7]  867 	sub	a, (hl)
    000001FB 23               [ 6]  868 	inc	hl
    000001FC 12               [ 7]  869 	ld	(de), a
    000001FD 13               [ 6]  870 	inc	de
    000001FE 1A               [ 7]  871 	ld	a, (de)
    000001FF 9E               [ 7]  872 	sbc	a, (hl)
    00000200 12               [ 7]  873 	ld	(de), a
    00000201 D1               [10]  874 	pop	de
                                    875 ;E:\Dropbox\FAUSTO\SVILUPPI\MSX\CODE\C\MSXgl\engine/src/vgm/vgm_player.c:219: }
    00000202 C9               [10]  876 	ret
                                    877 	.area _CODE
                                    878 	.area _INITIALIZER
                                    879 	.area _CABS (ABS)
